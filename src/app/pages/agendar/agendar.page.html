<app-header title="Agenda tu Coledrive"></app-header>

<ion-content>
    <div class="container">
      <ion-card>
        <ion-card-header>
          <ion-card-title>Selecciona una fecha</ion-card-title>
        </ion-card-header>
        <ion-card-content>
          <ion-list>
            <ion-item>
              <ion-label>
                <h2>{{ conductor.data.nombre }} {{ conductor.data.apellido }}</h2>
                <p>{{ conductor.data.email  }}</p>
                <p>{{ conductor.data.telefono }}</p>
              </ion-label>
              
            </ion-item>
            <ion-item>
              <ion-label>Seleccione el hijo</ion-label>
              <ion-select [(ngModel)]="selectedHijo" (ionChange)="onSelectChange($event)" placeholder="Seleccione el hijo">
                <ion-select-option *ngFor="let hijo of selectHijos" [value]="hijo.nombre">
                  {{ hijo.nombre }}
                </ion-select-option>
              </ion-select>
            </ion-item>
          </ion-list>
          <ion-datetime presentation="date" (ionChange)="onDateSelected($event)" [min]="minDate" [isDateEnabled]="isDateEnabled">
          </ion-datetime>
          <ion-list>
            <ion-item *ngFor="let date of selectedDates; let i = index">
              Fecha Seleccionada: {{ date | date: 'dd/MM/yyyy' }}
              <ion-button (click)="removeDate(i)" slot="end" fill="clear" color="danger">
                <ion-icon name="close"></ion-icon>
              </ion-button>
            </ion-item>
          </ion-list>
          <ion-button (click)="confirmDate()" expand="block" mode="ios" class="submit" [disabled]="!selectedDate" >
            Confirmar Fecha
            <ion-icon name="checkmark-done-outline"></ion-icon>
          </ion-button>
          <ion-button (click)="goToFacturaPage()" expand="block" mode="ios" class="submit" [disabled]="selectedDates.length === 0">
            Proceder con el pago
            <ion-icon name="cash-outline"></ion-icon>
          </ion-button>
        </ion-card-content>
      </ion-card>
    </div>
  </ion-content>