<app-header backButton="/inicio" title="Unete a Nosotros"></app-header>

<ion-content>
  <ion-card>
    <ion-card-header>
      <ion-card-title>Registro de Padres</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <form [formGroup]="formularioRegistro">
        <ion-item>
          <ion-label position="floating">Nombre</ion-label>
          <ion-input formControlName="nombre" type="text"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label position="floating">Apellido</ion-label>
          <ion-input formControlName="apellido" type="text"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label position="floating">Correo Electrónico</ion-label>
          <ion-input formControlName="email" type="email"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label position="floating">Contraseña</ion-label>
          <ion-input formControlName="password" type="password"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label position="floating">Confirmar Contraseña</ion-label>
          <ion-input formControlName="confirmPassword" type="password"></ion-input>
        </ion-item>
        <ion-item lines="none" *ngIf="formularioRegistro.errors?.['mismatch']">
          <ion-label color="danger">Las contraseñas no coinciden</ion-label>
        </ion-item>
        <ion-item>
          <ion-label position="floating">Teléfono</ion-label>
          <ion-input formControlName="telefono" type="tel"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label position="floating">Dirección</ion-label>
          <ion-input formControlName="direccion" type="text"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label position="floating">RUT</ion-label> <!-- Agregar campo RUT -->
          <ion-input formControlName="rut" type="text"></ion-input> <!-- Agregar campo RUT -->
        </ion-item>
        <ion-item>
          <ion-label position="floating">Número de Hijos</ion-label>
          <ion-select formControlName="numHijos" (ionChange)="updateHijos()">
            <ion-select-option *ngFor="let n of [1,2,3,4,5]">{{ n }}</ion-select-option>
          </ion-select>
        </ion-item>
        <div formArrayName="hijosArray">
          <div *ngFor="let hijo of hijosArray.controls; let i = index" [formGroupName]="i">
            <ion-item>
              <ion-label position="floating">Nombre del Hijo {{i + 1}}</ion-label>
              <ion-input formControlName="nombreHijo"></ion-input>
            </ion-item>
            <ion-item>
              <ion-label position="floating">Curso del Hijo {{i + 1}}</ion-label>
              <ion-input formControlName="cursoHijo"></ion-input>
            </ion-item>
          </div>
        </div>
        <!-- Nuevo selector para Comuna -->
        <ion-item>
          <ion-label position="floating">Comuna</ion-label>
          <ion-select formControlName="comuna">
            <ion-select-option value="maipu">Maipú</ion-select-option>
            <ion-select-option value="penaflor">Peñaflor</ion-select-option>
          </ion-select>
        </ion-item>
        <!-- Nuevo selector para Colegio -->
        <ion-item>
          <ion-label position="floating">Colegio</ion-label>
          <ion-select formControlName="colegio">
            <ion-select-option value="colegio1">Colegio 1</ion-select-option>
            <ion-select-option value="colegio2">Colegio 2</ion-select-option>
            <ion-select-option value="colegio3">Colegio 3</ion-select-option>
          </ion-select>
        </ion-item>
      </form>
      <br>
      <ion-button expand="block" type="submit" (click)="Guardar()">
        Registrar
      </ion-button>
    </ion-card-content>
  </ion-card>
</ion-content>
